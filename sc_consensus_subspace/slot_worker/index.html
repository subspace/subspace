<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Slot worker drives block and vote production based on slots produced in `sc_proof_of_time`."><title>sc_consensus_subspace::slot_worker - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-4e54bb2b497cc83f.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sc_consensus_subspace" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0-nightly (25f8d01fd 2024-01-18)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-0b2e2def73e61cbe.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../sc_consensus_subspace/index.html">sc_consensus_subspace</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">Module slot_worker</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li></ul></section><h2><a href="../index.html">In crate sc_consensus_subspace</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../sc_consensus_subspace/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">sc_consensus_subspace</a>::<wbr><a class="mod" href="#">slot_worker</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/sc_consensus_subspace/slot_worker.rs.html#17-951">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Slot worker drives block and vote production based on slots produced in <a href="../../sc_proof_of_time/index.html" title="mod sc_proof_of_time"><code>sc_proof_of_time</code></a>.</p>
<p>While slot worker uses [<code>sc_consensus_slots</code>], it is not driven by time, but instead by Proof of
Time that is produced by <a href="../../sc_proof_of_time/source/struct.PotSourceWorker.html" title="struct sc_proof_of_time::source::PotSourceWorker"><code>PotSourceWorker</code></a>.</p>
<p>Each time a new proof is found, <a href="../../sc_proof_of_time/trait.PotSlotWorker.html#tymethod.on_proof" title="method sc_proof_of_time::PotSlotWorker::on_proof"><code>PotSlotWorker::on_proof</code></a> is called and corresponding
[<code>SlotInfo</code>] notification is sent (<a href="../struct.SubspaceLink.html#method.new_slot_notification_stream" title="method sc_consensus_subspace::SubspaceLink::new_slot_notification_stream"><code>SubspaceLink::new_slot_notification_stream</code></a>) to farmers to
do the audit and try to prove they have a solution without actually waiting for the response.
<a href="../../sp_consensus_subspace/enum.ChainConstants.html#method.block_authoring_delay" title="method sp_consensus_subspace::ChainConstants::block_authoring_delay"><code>ChainConstants::block_authoring_delay</code></a>
slots later (when corresponding future proof arrives) all the solutions produced by farmers so
far are collected and corresponding block and/or votes are produced. In case PoT chain reorg
happens, outdated solutions (they are tied to proofs of time) are thrown away.</p>
<p>Custom <a href="struct.SubspaceSyncOracle.html" title="struct sc_consensus_subspace::slot_worker::SubspaceSyncOracle"><code>SubspaceSyncOracle</code></a> wrapper is introduced due to Subspace-specific changes comparing
to the base Substrate behavior where major syncing is assumed to not happen in case authoring is
forced.</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.NewSlotInfo.html" title="struct sc_consensus_subspace::slot_worker::NewSlotInfo">NewSlotInfo</a></div><div class="desc docblock-short">Information about new slot that just arrived</div></li><li><div class="item-name"><a class="struct" href="struct.NewSlotNotification.html" title="struct sc_consensus_subspace::slot_worker::NewSlotNotification">NewSlotNotification</a></div><div class="desc docblock-short">New slot notification with slot information and sender for solution for the slot.</div></li><li><div class="item-name"><a class="struct" href="struct.RewardSigningNotification.html" title="struct sc_consensus_subspace::slot_worker::RewardSigningNotification">RewardSigningNotification</a></div><div class="desc docblock-short">Notification with a hash that needs to be signed to receive reward and sender for signature.</div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceSlotWorker.html" title="struct sc_consensus_subspace::slot_worker::SubspaceSlotWorker">SubspaceSlotWorker</a></div><div class="desc docblock-short">Subspace slot worker responsible for block and vote production</div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceSlotWorkerOptions.html" title="struct sc_consensus_subspace::slot_worker::SubspaceSlotWorkerOptions">SubspaceSlotWorkerOptions</a></div><div class="desc docblock-short">Parameters for <a href="struct.SubspaceSlotWorker.html" title="struct sc_consensus_subspace::slot_worker::SubspaceSlotWorker"><code>SubspaceSlotWorker</code></a></div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceSyncOracle.html" title="struct sc_consensus_subspace::slot_worker::SubspaceSyncOracle">SubspaceSyncOracle</a></div><div class="desc docblock-short">Subspace sync oracle that takes into account force authoring flag, allowing to bootstrap
Subspace network from scratch due to our fork of Substrate where sync state of nodes depends on
connected nodes (none of which will be synced initially). It also accounts for DSN sync, when
normal Substrate sync is paused, which might happen before Substrate’s internals decide there is
a sync happening, but DSN sync is already in progress.</div></li></ul></section></div></main></body></html>