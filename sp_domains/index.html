<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Primitives for domains pallet."><title>sp_domains - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-970bf1bf55bd1c15.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="sp_domains" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0-nightly (28a58f2fa 2024-07-31)" data-channel="nightly" data-search-js="search-ef54e092fea9c776.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f9142fe437216fc3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../sp_domains/index.html">sp_<wbr>domains</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">sp_domains</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/sp_domains/lib.rs.html#16-1610">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Primitives for domains pallet.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bundle_producer_election/index.html" title="mod sp_domains::bundle_producer_election">bundle_<wbr>producer_<wbr>election</a></div></li><li><div class="item-name"><a class="mod" href="core_api/index.html" title="mod sp_domains::core_api">core_<wbr>api</a></div></li><li><div class="item-name"><a class="mod" href="extrinsics/index.html" title="mod sp_domains::extrinsics">extrinsics</a></div></li><li><div class="item-name"><a class="mod" href="merkle_tree/index.html" title="mod sp_domains::merkle_tree">merkle_<wbr>tree</a></div></li><li><div class="item-name"><a class="mod" href="proof_provider_and_verifier/index.html" title="mod sp_domains::proof_provider_and_verifier">proof_<wbr>provider_<wbr>and_<wbr>verifier</a></div></li><li><div class="item-name"><a class="mod" href="storage/index.html" title="mod sp_domains::storage">storage</a></div></li><li><div class="item-name"><a class="mod" href="valued_trie/index.html" title="mod sp_domains::valued_trie">valued_<wbr>trie</a></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.BlockFees.html" title="struct sp_domains::BlockFees">Block<wbr>Fees</a></div></li><li><div class="item-name"><a class="struct" href="struct.Bundle.html" title="struct sp_domains::Bundle">Bundle</a></div><div class="desc docblock-short">Domain bundle.</div></li><li><div class="item-name"><a class="struct" href="struct.BundleDigest.html" title="struct sp_domains::BundleDigest">Bundle<wbr>Digest</a></div><div class="desc docblock-short">A digest of the bundle</div></li><li><div class="item-name"><a class="struct" href="struct.BundleHeader.html" title="struct sp_domains::BundleHeader">Bundle<wbr>Header</a></div></li><li><div class="item-name"><a class="struct" href="struct.DomainAllowlistUpdates.html" title="struct sp_domains::DomainAllowlistUpdates">Domain<wbr>Allowlist<wbr>Updates</a></div><div class="desc docblock-short">Domain chains allowlist updates.</div></li><li><div class="item-name"><a class="struct" href="struct.DomainBlockLimit.html" title="struct sp_domains::DomainBlockLimit">Domain<wbr>Block<wbr>Limit</a></div></li><li><div class="item-name"><a class="struct" href="struct.DomainBundleLimit.html" title="struct sp_domains::DomainBundleLimit">Domain<wbr>Bundle<wbr>Limit</a></div></li><li><div class="item-name"><a class="struct" href="struct.DomainId.html" title="struct sp_domains::DomainId">Domain<wbr>Id</a></div><div class="desc docblock-short">Unique identifier of a domain.</div></li><li><div class="item-name"><a class="struct" href="struct.DomainInstanceData.html" title="struct sp_domains::DomainInstanceData">Domain<wbr>Instance<wbr>Data</a></div><div class="desc docblock-short"><code>DomainInstanceData</code> is used to construct the genesis storage of domain instance chain</div></li><li><div class="item-name"><a class="struct" href="struct.DomainSudoCall.html" title="struct sp_domains::DomainSudoCall">Domain<wbr>Sudo<wbr>Call</a></div><div class="desc docblock-short">Domain Sudo runtime call.
This structure exists because we need to generate a storage proof for FP
and Storage shouldn’t be None. So each domain must always hold this value even if
there is an empty runtime call inside</div></li><li><div class="item-name"><a class="struct" href="struct.ExecutionReceipt.html" title="struct sp_domains::ExecutionReceipt">Execution<wbr>Receipt</a></div><div class="desc docblock-short">Receipt of a domain block execution.</div></li><li><div class="item-name"><a class="struct" href="struct.GenesisDomain.html" title="struct sp_domains::GenesisDomain">Genesis<wbr>Domain</a></div></li><li><div class="item-name"><a class="struct" href="struct.InboxedBundle.html" title="struct sp_domains::InboxedBundle">Inboxed<wbr>Bundle</a></div><div class="desc docblock-short"><a href="struct.InboxedBundle.html" title="struct sp_domains::InboxedBundle"><code>InboxedBundle</code></a> represents a bundle that was successfully submitted to the consensus chain</div></li><li><div class="item-name"><a class="struct" href="struct.OperatorKey.html" title="struct sp_domains::OperatorKey">Operator<wbr>Key</a></div><div class="desc docblock-short">A type that implements <code>BoundToRuntimeAppPublic</code>, used for operator signing key.</div></li><li><div class="item-name"><a class="struct" href="struct.OperatorSigningKeyProofOfOwnershipData.html" title="struct sp_domains::OperatorSigningKeyProofOfOwnershipData">Operator<wbr>Signing<wbr>KeyProof<wbr>OfOwnership<wbr>Data</a></div><div class="desc docblock-short">Preimage to verify the proof of ownership of Operator Signing key.
Operator owner is used to ensure the signature is used by anyone except
the owner of the Signing key pair.</div></li><li><div class="item-name"><a class="struct" href="struct.ProofOfElection.html" title="struct sp_domains::ProofOfElection">Proof<wbr>OfElection</a></div></li><li><div class="item-name"><a class="struct" href="struct.RuntimeObject.html" title="struct sp_domains::RuntimeObject">Runtime<wbr>Object</a></div></li><li><div class="item-name"><a class="struct" href="struct.SealedBundleHeader.html" title="struct sp_domains::SealedBundleHeader">Sealed<wbr>Bundle<wbr>Header</a></div><div class="desc docblock-short">Header of bundle.</div></li><li><div class="item-name"><a class="struct" href="struct.SealedSingletonReceipt.html" title="struct sp_domains::SealedSingletonReceipt">Sealed<wbr>Singleton<wbr>Receipt</a></div></li><li><div class="item-name"><a class="struct" href="struct.SingletonReceipt.html" title="struct sp_domains::SingletonReceipt">Singleton<wbr>Receipt</a></div><div class="desc docblock-short">Singleton receipt submit along when there is a gap between <code>domain_best_number</code>
and <code>HeadReceiptNumber</code></div></li><li><div class="item-name"><a class="struct" href="struct.Transfers.html" title="struct sp_domains::Transfers">Transfers</a></div><div class="desc docblock-short">Type that holds the transfers(in/out) for a given chain.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.BundleValidity.html" title="enum sp_domains::BundleValidity">Bundle<wbr>Validity</a></div></li><li><div class="item-name"><a class="enum" href="enum.ChainId.html" title="enum sp_domains::ChainId">ChainId</a></div><div class="desc docblock-short">Identifier of a chain.</div></li><li><div class="item-name"><a class="enum" href="enum.DomainDigestItem.html" title="enum sp_domains::DomainDigestItem">Domain<wbr>Digest<wbr>Item</a></div><div class="desc docblock-short">Domains specific digest item.</div></li><li><div class="item-name"><a class="enum" href="enum.DomainsHoldIdentifier.html" title="enum sp_domains::DomainsHoldIdentifier">Domains<wbr>Hold<wbr>Identifier</a></div><div class="desc docblock-short">Domains specific Identifier for Balances holds.</div></li><li><div class="item-name"><a class="enum" href="enum.ExtrinsicDigest.html" title="enum sp_domains::ExtrinsicDigest">Extrinsic<wbr>Digest</a></div><div class="desc docblock-short">Represents the extrinsic either as full data or hash of the data.</div></li><li><div class="item-name"><a class="enum" href="enum.InvalidBundleType.html" title="enum sp_domains::InvalidBundleType">Invalid<wbr>Bundle<wbr>Type</a></div><div class="desc docblock-short">Bundle invalidity type</div></li><li><div class="item-name"><a class="enum" href="enum.InvalidReceipt.html" title="enum sp_domains::InvalidReceipt">Invalid<wbr>Receipt</a></div><div class="desc docblock-short">Receipt invalidity type.</div></li><li><div class="item-name"><a class="enum" href="enum.MessengerHoldIdentifier.html" title="enum sp_domains::MessengerHoldIdentifier">Messenger<wbr>Hold<wbr>Identifier</a></div><div class="desc docblock-short">Messenger specific hold identifier</div></li><li><div class="item-name"><a class="enum" href="enum.OperatorAllowList.html" title="enum sp_domains::OperatorAllowList">Operator<wbr>Allow<wbr>List</a></div><div class="desc docblock-short">Type that represents an operator allow list for Domains.</div></li><li><div class="item-name"><a class="enum" href="enum.PermissionedActionAllowedBy.html" title="enum sp_domains::PermissionedActionAllowedBy">Permissioned<wbr>Action<wbr>Allowed<wbr>By</a></div><div class="desc docblock-short">Permissioned actions allowed by either specific accounts or anyone.</div></li><li><div class="item-name"><a class="enum" href="enum.ReceiptValidity.html" title="enum sp_domains::ReceiptValidity">Receipt<wbr>Validity</a></div></li><li><div class="item-name"><a class="enum" href="enum.RuntimeType.html" title="enum sp_domains::RuntimeType">Runtime<wbr>Type</a></div><div class="desc docblock-short">Types of runtime pallet domains currently supports</div></li><li><div class="item-name"><a class="enum" href="enum.StakingHoldIdentifier.html" title="enum sp_domains::StakingHoldIdentifier">Staking<wbr>Hold<wbr>Identifier</a></div><div class="desc docblock-short">Staking specific hold identifier</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.DOMAIN_EXTRINSICS_SHUFFLING_SEED_SUBJECT.html" title="constant sp_domains::DOMAIN_EXTRINSICS_SHUFFLING_SEED_SUBJECT">DOMAI<wbr>N_<wbr>EXTRINSIC<wbr>S_<wbr>SHUFFLIN<wbr>G_<wbr>SEED_<wbr>SUBJECT</a></div><div class="desc docblock-short">Extrinsics shuffling seed</div></li><li><div class="item-name"><a class="constant" href="constant.DOMAIN_STORAGE_FEE_MULTIPLIER.html" title="constant sp_domains::DOMAIN_STORAGE_FEE_MULTIPLIER">DOMAI<wbr>N_<wbr>STORAG<wbr>E_<wbr>FEE_<wbr>MULTIPLIER</a></div></li><li><div class="item-name"><a class="constant" href="constant.EMPTY_EXTRINSIC_ROOT.html" title="constant sp_domains::EMPTY_EXTRINSIC_ROOT">EMPT<wbr>Y_<wbr>EXTRINSI<wbr>C_<wbr>ROOT</a></div><div class="desc docblock-short">Empty extrinsics root.</div></li><li><div class="item-name"><a class="constant" href="constant.INITIAL_DOMAIN_TX_RANGE.html" title="constant sp_domains::INITIAL_DOMAIN_TX_RANGE">INITIA<wbr>L_<wbr>DOMAI<wbr>N_<wbr>TX_<wbr>RANGE</a></div><div class="desc docblock-short">Initial tx range = U256::MAX / INITIAL_DOMAIN_TX_RANGE.</div></li><li><div class="item-name"><a class="constant" href="constant.KEY_TYPE.html" title="constant sp_domains::KEY_TYPE">KEY_<wbr>TYPE</a></div><div class="desc docblock-short">Key type for Operator.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.BundleProducerElectionApi.html" title="trait sp_domains::BundleProducerElectionApi">Bundle<wbr>Producer<wbr>Election<wbr>Api</a></div></li><li><div class="item-name"><a class="trait" href="trait.DomainBundleSubmitted.html" title="trait sp_domains::DomainBundleSubmitted">Domain<wbr>Bundle<wbr>Submitted</a></div><div class="desc docblock-short">Post hook to know if the domain had bundle submitted in the previous block.</div></li><li><div class="item-name"><a class="trait" href="trait.DomainOwner.html" title="trait sp_domains::DomainOwner">Domain<wbr>Owner</a></div><div class="desc docblock-short">Trait to check domain owner.</div></li><li><div class="item-name"><a class="trait" href="trait.DomainsApi.html" title="trait sp_domains::DomainsApi">Domains<wbr>Api</a></div><div class="desc docblock-short">API necessary for domains pallet.</div></li><li><div class="item-name"><a class="trait" href="trait.DomainsDigestItem.html" title="trait sp_domains::DomainsDigestItem">Domains<wbr>Digest<wbr>Item</a></div><div class="desc docblock-short">Domains specific digest items.</div></li><li><div class="item-name"><a class="trait" href="trait.DomainsTransfersTracker.html" title="trait sp_domains::DomainsTransfersTracker">Domains<wbr>Transfers<wbr>Tracker</a></div><div class="desc docblock-short">Trait that tracks the balances on Domains.</div></li><li><div class="item-name"><a class="trait" href="trait.OnChainRewards.html" title="trait sp_domains::OnChainRewards">OnChain<wbr>Rewards</a></div><div class="desc docblock-short">Hook to handle chain rewards.</div></li><li><div class="item-name"><a class="trait" href="trait.OnDomainInstantiated.html" title="trait sp_domains::OnDomainInstantiated">OnDomain<wbr>Instantiated</a></div><div class="desc docblock-short">A hook to call after a domain is instantiated</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.calculate_max_bundle_weight_and_size.html" title="fn sp_domains::calculate_max_bundle_weight_and_size">calculate_<wbr>max_<wbr>bundle_<wbr>weight_<wbr>and_<wbr>size</a></div><div class="desc docblock-short">Calculates the max bundle weight and size</div></li><li><div class="item-name"><a class="fn" href="fn.derive_domain_block_hash.html" title="fn sp_domains::derive_domain_block_hash">derive_<wbr>domain_<wbr>block_<wbr>hash</a></div></li><li><div class="item-name"><a class="fn" href="fn.domain_account_storage_key.html" title="fn sp_domains::domain_account_storage_key">domain_<wbr>account_<wbr>storage_<wbr>key</a></div><div class="desc docblock-short">Account info on frame_system on Domains</div></li><li><div class="item-name"><a class="fn" href="fn.domain_total_issuance_storage_key.html" title="fn sp_domains::domain_total_issuance_storage_key">domain_<wbr>total_<wbr>issuance_<wbr>storage_<wbr>key</a></div><div class="desc docblock-short">Total issuance storage for Domains.</div></li><li><div class="item-name"><a class="fn" href="fn.dummy_opaque_bundle.html" title="fn sp_domains::dummy_opaque_bundle">dummy_<wbr>opaque_<wbr>bundle</a></div></li><li><div class="item-name"><a class="fn" href="fn.operator_block_fees_final_key.html" title="fn sp_domains::operator_block_fees_final_key">operator_<wbr>block_<wbr>fees_<wbr>final_<wbr>key</a></div><div class="desc docblock-short">This is a representation of actual Block Fees storage in pallet-block-fees.
Any change in key or value there should be changed here accordingly.</div></li><li><div class="item-name"><a class="fn" href="fn.self_domain_id_storage_key.html" title="fn sp_domains::self_domain_id_storage_key">self_<wbr>domain_<wbr>id_<wbr>storage_<wbr>key</a></div><div class="desc docblock-short">The storage key of the <code>SelfDomainId</code> storage item in the <code>pallet-domain-id</code></div></li><li><div class="item-name"><a class="fn" href="fn.signer_in_tx_range.html" title="fn sp_domains::signer_in_tx_range">signer_<wbr>in_<wbr>tx_<wbr>range</a></div><div class="desc docblock-short">Checks if the signer Id hash is within the tx range</div></li><li><div class="item-name"><a class="fn" href="fn.system_digest_final_key.html" title="fn sp_domains::system_digest_final_key">system_<wbr>digest_<wbr>final_<wbr>key</a></div><div class="desc docblock-short">Digest storage key in frame_system.
Unfortunately, the digest storage is private and not possible to derive the key from it directly.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.ChannelId.html" title="type sp_domains::ChannelId">Channel<wbr>Id</a></div><div class="desc docblock-short">Channel identity.</div></li><li><div class="item-name"><a class="type" href="type.EpochIndex.html" title="type sp_domains::EpochIndex">Epoch<wbr>Index</a></div><div class="desc docblock-short">Type representing domain epoch.</div></li><li><div class="item-name"><a class="type" href="type.ExecutionReceiptFor.html" title="type sp_domains::ExecutionReceiptFor">Execution<wbr>Receipt<wbr>For</a></div></li><li><div class="item-name"><a class="type" href="type.ExtrinsicsRoot.html" title="type sp_domains::ExtrinsicsRoot">Extrinsics<wbr>Root</a></div><div class="desc docblock-short">The Trie root of all extrinsics included in a bundle.</div></li><li><div class="item-name"><a class="type" href="type.HeaderHashFor.html" title="type sp_domains::HeaderHashFor">Header<wbr>Hash<wbr>For</a></div><div class="desc docblock-short">Type alias for Header hash.</div></li><li><div class="item-name"><a class="type" href="type.HeaderHashingFor.html" title="type sp_domains::HeaderHashingFor">Header<wbr>Hashing<wbr>For</a></div><div class="desc docblock-short">Type alias for Header Hashing.</div></li><li><div class="item-name"><a class="type" href="type.HeaderNumberFor.html" title="type sp_domains::HeaderNumberFor">Header<wbr>Number<wbr>For</a></div><div class="desc docblock-short">Type alias for Header number.</div></li><li><div class="item-name"><a class="type" href="type.OpaqueBundle.html" title="type sp_domains::OpaqueBundle">Opaque<wbr>Bundle</a></div><div class="desc docblock-short">Bundle with opaque extrinsics.</div></li><li><div class="item-name"><a class="type" href="type.OpaqueBundles.html" title="type sp_domains::OpaqueBundles">Opaque<wbr>Bundles</a></div><div class="desc docblock-short">List of <a href="type.OpaqueBundle.html" title="type sp_domains::OpaqueBundle"><code>OpaqueBundle</code></a>.</div></li><li><div class="item-name"><a class="type" href="type.OperatorId.html" title="type sp_domains::OperatorId">Operator<wbr>Id</a></div><div class="desc docblock-short">Type representing operator ID</div></li><li><div class="item-name"><a class="type" href="type.OperatorPair.html" title="type sp_domains::OperatorPair">Operator<wbr>Pair</a></div><div class="desc docblock-short">An operator authority keypair. Necessarily equivalent to the schnorrkel public key used in
the main executor module. If that ever changes, then this must, too.</div></li><li><div class="item-name"><a class="type" href="type.OperatorPublicKey.html" title="type sp_domains::OperatorPublicKey">Operator<wbr>Public<wbr>Key</a></div><div class="desc docblock-short">An operator authority identifier.</div></li><li><div class="item-name"><a class="type" href="type.OperatorSignature.html" title="type sp_domains::OperatorSignature">Operator<wbr>Signature</a></div><div class="desc docblock-short">An operator authority signature.</div></li><li><div class="item-name"><a class="type" href="type.RuntimeId.html" title="type sp_domains::RuntimeId">Runtime<wbr>Id</a></div><div class="desc docblock-short">Type representing the runtime ID.</div></li><li><div class="item-name"><a class="type" href="type.StakeWeight.html" title="type sp_domains::StakeWeight">Stake<wbr>Weight</a></div><div class="desc docblock-short">Stake weight in the domain bundle election.</div></li></ul></section></div></main></body></html>